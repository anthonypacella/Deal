{"ast":null,"code":"var _jsxFileName = \"/Users/anthonypacella/Desktop/Coding-Bootcamp/Homework/Deal/client/src/pages/Results.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport Deal from '../components/Deal';\nimport { Navigate, useParams, useSearchParams } from 'react-router-dom';\nimport DealSmall from '../components/DealSmall';\nimport auth from '../utils/auth';\nimport dealArray from '../utils/sampledata';\nimport Pagination from '../components/Pagination';\nimport { GET_ALL_DEALS, GET_DEALS_BY_KEYWORD } from '../utils/queries';\nimport { useQuery } from '@apollo/client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Results() {\n  _s();\n\n  // obtain search keyword from URL\n  // const [searchParams, setSearchParams] = useSearchParams();\n  // const keyword = searchParams.get('keyword');\n  // call the query\n  const {\n    keyword: keyword\n  } = useParams();\n  console.log(keyword);\n  const {\n    loading,\n    data\n  } = useQuery(GET_DEALS_BY_KEYWORD, {\n    variables: {\n      keyword\n    }\n  });\n  console.log(data);\n  const resultDeals = (data === null || data === void 0 ? void 0 : data.getDealsByKeyword) || [];\n  console.log(resultDeals);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [dealsPerPage, setDealsPerPage] = useState(8); //get current posts\n\n  const indexOfLastDeal = currentPage * dealsPerPage;\n  const indexOfFirstDeal = indexOfLastDeal - dealsPerPage;\n  const currentDeals = resultDeals.slice(indexOfFirstDeal, indexOfLastDeal); //change Page\n\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  const previousPage = pageNumber => setCurrentPage(pageNumber - 1);\n\n  const nextPage = pageNumber => setCurrentPage(pageNumber + 1);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Results:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"feedDeals columns\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column is-full\",\n        children: currentDeals.map(dealObj => /*#__PURE__*/_jsxDEV(Deal, {\n          className: \"is-centered\",\n          deal: dealObj\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      entriesPerPage: dealsPerPage,\n      totalEntries: resultDeals.length,\n      paginate: paginate,\n      previousPage: previousPage,\n      nextPage: nextPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Results, \"pWl8DdRMrynz/O5WShbZxNzuOjs=\", false, function () {\n  return [useParams, useQuery];\n});\n\n_c = Results;\n\nvar _c;\n\n$RefreshReg$(_c, \"Results\");","map":{"version":3,"names":["React","useState","Deal","Navigate","useParams","useSearchParams","DealSmall","auth","dealArray","Pagination","GET_ALL_DEALS","GET_DEALS_BY_KEYWORD","useQuery","Results","keyword","console","log","loading","data","variables","resultDeals","getDealsByKeyword","currentPage","setCurrentPage","dealsPerPage","setDealsPerPage","indexOfLastDeal","indexOfFirstDeal","currentDeals","slice","paginate","pageNumber","previousPage","nextPage","map","dealObj","length"],"sources":["/Users/anthonypacella/Desktop/Coding-Bootcamp/Homework/Deal/client/src/pages/Results.js"],"sourcesContent":["import React from 'react';\nimport {useState} from 'react';\nimport Deal from '../components/Deal'\nimport { Navigate, useParams, useSearchParams } from 'react-router-dom';\nimport DealSmall from '../components/DealSmall';\nimport auth from '../utils/auth';\nimport dealArray from '../utils/sampledata';\nimport Pagination from '../components/Pagination';\nimport { GET_ALL_DEALS, GET_DEALS_BY_KEYWORD } from '../utils/queries';\nimport {useQuery} from '@apollo/client';\n\nexport default function Results() {\n  // obtain search keyword from URL\n  // const [searchParams, setSearchParams] = useSearchParams();\n  // const keyword = searchParams.get('keyword');\n  // call the query\n\n  const { keyword: keyword } = useParams();\n  console.log(keyword);\n\n  const { loading, data } = useQuery(GET_DEALS_BY_KEYWORD, {\n    variables: { keyword }\n  });\n\n  console.log(data);\n\n  const resultDeals = data?.getDealsByKeyword || [];\n\n  console.log(resultDeals);\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [dealsPerPage, setDealsPerPage] = useState(8);\n\n  //get current posts\n  const indexOfLastDeal = currentPage * dealsPerPage;\n  const indexOfFirstDeal = indexOfLastDeal - dealsPerPage;\n  const currentDeals = resultDeals.slice(indexOfFirstDeal, indexOfLastDeal);\n\n  //change Page\n  const paginate = (pageNumber) => setCurrentPage(pageNumber);\n  const previousPage = (pageNumber) => setCurrentPage(pageNumber-1);\n  const nextPage = (pageNumber) => setCurrentPage(pageNumber+1);\n\n  return (\n    <div>\n      <h1>Results:</h1>\n      <div className = 'feedDeals columns'>\n        <div className = 'column is-full'>\n              {currentDeals.map((dealObj) => (\n                <Deal className = 'is-centered' deal = {dealObj}></Deal>\n              ))}\n        </div>\n      </div>\n\n    <Pagination entriesPerPage={dealsPerPage} totalEntries={resultDeals.length} paginate={paginate} previousPage={previousPage} nextPage = {nextPage} />\n\n    </div>\n  );\n}"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,OAAvB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,eAA9B,QAAqD,kBAArD;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,SAASC,aAAT,EAAwBC,oBAAxB,QAAoD,kBAApD;AACA,SAAQC,QAAR,QAAuB,gBAAvB;;AAEA,eAAe,SAASC,OAAT,GAAmB;EAAA;;EAChC;EACA;EACA;EACA;EAEA,MAAM;IAAEC,OAAO,EAAEA;EAAX,IAAuBV,SAAS,EAAtC;EACAW,OAAO,CAACC,GAAR,CAAYF,OAAZ;EAEA,MAAM;IAAEG,OAAF;IAAWC;EAAX,IAAoBN,QAAQ,CAACD,oBAAD,EAAuB;IACvDQ,SAAS,EAAE;MAAEL;IAAF;EAD4C,CAAvB,CAAlC;EAIAC,OAAO,CAACC,GAAR,CAAYE,IAAZ;EAEA,MAAME,WAAW,GAAG,CAAAF,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEG,iBAAN,KAA2B,EAA/C;EAEAN,OAAO,CAACC,GAAR,CAAYI,WAAZ;EAEA,MAAM,CAACE,WAAD,EAAcC,cAAd,IAAgCtB,QAAQ,CAAC,CAAD,CAA9C;EACA,MAAM,CAACuB,YAAD,EAAeC,eAAf,IAAkCxB,QAAQ,CAAC,CAAD,CAAhD,CApBgC,CAsBhC;;EACA,MAAMyB,eAAe,GAAGJ,WAAW,GAAGE,YAAtC;EACA,MAAMG,gBAAgB,GAAGD,eAAe,GAAGF,YAA3C;EACA,MAAMI,YAAY,GAAGR,WAAW,CAACS,KAAZ,CAAkBF,gBAAlB,EAAoCD,eAApC,CAArB,CAzBgC,CA2BhC;;EACA,MAAMI,QAAQ,GAAIC,UAAD,IAAgBR,cAAc,CAACQ,UAAD,CAA/C;;EACA,MAAMC,YAAY,GAAID,UAAD,IAAgBR,cAAc,CAACQ,UAAU,GAAC,CAAZ,CAAnD;;EACA,MAAME,QAAQ,GAAIF,UAAD,IAAgBR,cAAc,CAACQ,UAAU,GAAC,CAAZ,CAA/C;;EAEA,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAK,SAAS,EAAG,mBAAjB;MAAA,uBACE;QAAK,SAAS,EAAG,gBAAjB;QAAA,UACOH,YAAY,CAACM,GAAb,CAAkBC,OAAD,iBAChB,QAAC,IAAD;UAAM,SAAS,EAAG,aAAlB;UAAgC,IAAI,EAAIA;QAAxC;UAAA;UAAA;UAAA;QAAA,QADD;MADP;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAFF,eAUA,QAAC,UAAD;MAAY,cAAc,EAAEX,YAA5B;MAA0C,YAAY,EAAEJ,WAAW,CAACgB,MAApE;MAA4E,QAAQ,EAAEN,QAAtF;MAAgG,YAAY,EAAEE,YAA9G;MAA4H,QAAQ,EAAIC;IAAxI;MAAA;MAAA;MAAA;IAAA,QAVA;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAeD;;GA/CuBpB,O;UAMOT,S,EAGHQ,Q;;;KATJC,O"},"metadata":{},"sourceType":"module"}