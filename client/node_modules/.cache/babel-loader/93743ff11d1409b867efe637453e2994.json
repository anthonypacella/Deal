{"ast":null,"code":"var _jsxFileName = \"/Users/anthonypacella/Desktop/Coding-Bootcamp/Homework/Deal/client/src/components/InfoBar/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './categories';\nimport categories from './categories';\nimport './deals';\nimport deals from './deals';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { GET_DEALS_BY_KEYWORD } from '../../utils/queries';\nimport { CREATE_SEARCH, ADD_TO_SEARCH_HISTORY } from '../../utils/mutations';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst InfoBar = () => {\n  _s();\n\n  const [formState, setFormState] = useState({\n    keyword: ''\n  }); // const [createSearch, {error:searchError, data: searchData}] = useMutation(CREATE_SEARCH);\n\n  const [addToSearchHistory, {\n    error: historyError,\n    data: historyData\n  }] = useMutation(ADD_TO_SEARCH_HISTORY);\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormState({ ...formState,\n      [name]: value\n    });\n  };\n\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n    console.log(formState);\n\n    try {\n      const {\n        history\n      } = await addToSearchHistory({\n        variables: { ...formState\n        }\n      });\n    } catch (error) {}\n\n    window.location.assign(`/results/${formState.keyword}`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar-item\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleFormSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field has-addons\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input is-rounded is-medium\",\n              type: \"text\",\n              placeholder: \"Search the deals\",\n              autoComplete: \"off\",\n              name: \"keyword\",\n              value: formState.keyword,\n              onChange: handleChange,\n              style: {\n                width: '240px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"control\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button is-rounded is-warning is-medium\",\n              type: \"submit\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon is-small is-left\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 7\n  }, this);\n};\n\n_s(InfoBar, \"QiU2r+LO4XuLBNYzRtWzsAuJafM=\", false, function () {\n  return [useMutation];\n});\n\n_c = InfoBar;\nexport default InfoBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"InfoBar\");","map":{"version":3,"names":["React","useState","Link","categories","deals","useQuery","useMutation","GET_DEALS_BY_KEYWORD","CREATE_SEARCH","ADD_TO_SEARCH_HISTORY","InfoBar","formState","setFormState","keyword","addToSearchHistory","error","historyError","data","historyData","handleChange","event","name","value","target","handleFormSubmit","preventDefault","console","log","history","variables","window","location","assign","width"],"sources":["/Users/anthonypacella/Desktop/Coding-Bootcamp/Homework/Deal/client/src/components/InfoBar/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './categories';\nimport categories from './categories';\nimport './deals';\nimport deals from './deals';\n\nimport { useQuery, useMutation } from '@apollo/client';\nimport { GET_DEALS_BY_KEYWORD } from '../../utils/queries';\nimport { CREATE_SEARCH, ADD_TO_SEARCH_HISTORY } from '../../utils/mutations';\n\n\nconst InfoBar = () => {\n  const [formState, setFormState] = useState({\n    keyword: '',\n  });\n  \n\n\n  // const [createSearch, {error:searchError, data: searchData}] = useMutation(CREATE_SEARCH);\n  const [addToSearchHistory, {error: historyError, data: historyData}] = useMutation(ADD_TO_SEARCH_HISTORY);\n\n \n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    console.log(formState);\n    try {\n\n      const { history } = await addToSearchHistory({\n        variables: { ...formState },\n      })\n      \n    } catch (error) {\n\n    }\n    window.location.assign(`/results/${formState.keyword}`)\n  };\n\n\n  return (\n      <div>\n\n        {/* <div className='navbar-item has-dropdown is-hoverable'>\n          <a className=\"navbar-link\">\n            Categories\n          </a>\n          <div className=\"navbar-dropdown\">\n            {categories.map((category) => (\n              <div className='navbar-item'>\n                <Link to={category.link}>\n                  <span>{category.name}</span>\n                </Link>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className='navbar-item has-dropdown is-hoverable'>\n          <a className=\"navbar-link\">\n            Deals of the Day\n          </a>\n          <div className=\"navbar-dropdown\">\n            {deals.map((deal) => (\n              <div className='navbar-item'>\n                <Link to={deal.link}>\n                  <span>{deal.name}</span>\n                </Link>\n              </div>\n            ))}\n          </div>\n        </div> */}\n\n        <div className=\"navbar-item\">\n          <form onSubmit={handleFormSubmit}>\n            <div className=\"field has-addons\">\n              <p className=\"control\">\n                <input\n                  className=\"input is-rounded is-medium\"\n                  type=\"text\"\n                  placeholder=\"Search the deals\"\n                  autoComplete=\"off\"\n                  name=\"keyword\"\n                  value={formState.keyword}\n                  onChange={handleChange}\n                  style={{width: '240px'}}          \n                  />\n              </p>\n              <p className=\"control\">\n                <button className=\"button is-rounded is-warning is-medium\" type='submit'>\n                  <span className=\"icon is-small is-left\">\n                    <i className=\"fas fa-search\"></i>\n                  </span>\n                </button>\n              </p>\n            </div>\n          </form>\n        </div>\n      </div>\n  );\n};\n\nexport default InfoBar;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,cAAP;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAO,SAAP;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,gBAAtC;AACA,SAASC,oBAAT,QAAqC,qBAArC;AACA,SAASC,aAAT,EAAwBC,qBAAxB,QAAqD,uBAArD;;;AAGA,MAAMC,OAAO,GAAG,MAAM;EAAA;;EACpB,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BX,QAAQ,CAAC;IACzCY,OAAO,EAAE;EADgC,CAAD,CAA1C,CADoB,CAOpB;;EACA,MAAM,CAACC,kBAAD,EAAqB;IAACC,KAAK,EAAEC,YAAR;IAAsBC,IAAI,EAAEC;EAA5B,CAArB,IAAiEZ,WAAW,CAACG,qBAAD,CAAlF;;EAIA,MAAMU,YAAY,GAAIC,KAAD,IAAW;IAC9B,MAAM;MAAEC,IAAF;MAAQC;IAAR,IAAkBF,KAAK,CAACG,MAA9B;IACAX,YAAY,CAAC,EACX,GAAGD,SADQ;MAEX,CAACU,IAAD,GAAQC;IAFG,CAAD,CAAZ;EAID,CAND;;EAQA,MAAME,gBAAgB,GAAG,MAAOJ,KAAP,IAAiB;IACxCA,KAAK,CAACK,cAAN;IACAC,OAAO,CAACC,GAAR,CAAYhB,SAAZ;;IACA,IAAI;MAEF,MAAM;QAAEiB;MAAF,IAAc,MAAMd,kBAAkB,CAAC;QAC3Ce,SAAS,EAAE,EAAE,GAAGlB;QAAL;MADgC,CAAD,CAA5C;IAID,CAND,CAME,OAAOI,KAAP,EAAc,CAEf;;IACDe,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAwB,YAAWrB,SAAS,CAACE,OAAQ,EAArD;EACD,CAbD;;EAgBA,oBACI;IAAA,uBAgCE;MAAK,SAAS,EAAC,aAAf;MAAA,uBACE;QAAM,QAAQ,EAAEW,gBAAhB;QAAA,uBACE;UAAK,SAAS,EAAC,kBAAf;UAAA,wBACE;YAAG,SAAS,EAAC,SAAb;YAAA,uBACE;cACE,SAAS,EAAC,4BADZ;cAEE,IAAI,EAAC,MAFP;cAGE,WAAW,EAAC,kBAHd;cAIE,YAAY,EAAC,KAJf;cAKE,IAAI,EAAC,SALP;cAME,KAAK,EAAEb,SAAS,CAACE,OANnB;cAOE,QAAQ,EAAEM,YAPZ;cAQE,KAAK,EAAE;gBAACc,KAAK,EAAE;cAAR;YART;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QADF,eAaE;YAAG,SAAS,EAAC,SAAb;YAAA,uBACE;cAAQ,SAAS,EAAC,wCAAlB;cAA2D,IAAI,EAAC,QAAhE;cAAA,uBACE;gBAAM,SAAS,EAAC,uBAAhB;gBAAA,uBACE;kBAAG,SAAS,EAAC;gBAAb;kBAAA;kBAAA;kBAAA;gBAAA;cADF;gBAAA;gBAAA;gBAAA;cAAA;YADF;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QAbF;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EAhCF;IAAA;IAAA;IAAA;EAAA,QADJ;AA4DD,CAhGD;;GAAMvB,O;UAQmEJ,W;;;KARnEI,O;AAkGN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}